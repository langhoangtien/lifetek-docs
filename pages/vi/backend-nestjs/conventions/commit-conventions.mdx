# Quy ước Commit

Chúng tôi sử dụng quy ước tại [đây](https://www.conventionalcommits.org/en/v1.0.0/)

---

[[toc]]

## Commit messages phải khớp với regex sau

```js
/^(build|chore|ci|docs|feat|fix|perf|refactor|revert|style|test)\(?[a-zA-Z0-9-]{0,20}\)?:\s[a-zA-Z0-9-_#\/\s]{1,49}[a-zA-Z0-9]$/;
```

## Định dạng

```txt
<type>(<scope>?): <subject>
```

1. `"type"` phải là một trong các loại sau

   - `build`: thay đổi ảnh hưởng đến hệ thống build hoặc các phụ thuộc bên ngoài
   - `chore`: thay đổi không thay đổi logic hoặc mã kiểm thử
   - `ci`: thay đổi cấu hình và script của CI
   - `docs`: thay đổi chỉ liên quan đến tài liệu (thêm/cập nhật/xóa)
   - `feat`: thêm/cập nhật/xóa một tính năng
   - `fix`: sửa lỗi thông thường, lỗi nghiêm trọng (có thể là tái cấu trúc mã)
   - `perf`: cải thiện hiệu suất
   - `refactor`: thay đổi mã không sửa lỗi hay thêm tính năng
   - `revert`: hoàn tác một commit trước đó
   - `style`: thay đổi không ảnh hưởng đến ý nghĩa của mã (khoảng trắng, định dạng, thiếu dấu chấm phẩy, v.v.)
   - `test`: thêm các bài kiểm tra bị thiếu hoặc sửa chữa các bài kiểm tra hiện tại

2. `"scope"` (tùy chọn)

   Scope phải là danh từ và nó đại diện cho phần của codebase

3. `"subject"`

   Subject chứa mô tả ngắn gọn về thay đổi

   - sử dụng thể mệnh lệnh, thời hiện tại (sử dụng "add" thay vì "added" hoặc "adds")
   - không viết hoa chữ cái đầu tiên
   - không có dấu chấm (.) ở cuối
   - là một trong các loại sau
     - ticket: `<mã ticket> <mô tả ngắn>`
     - một số công việc đặc biệt (không có ticket) như tài liệu, build, hoặc tái cấu trúc mã nguồn: `<mô tả ngắn>`

## Ví dụ

```txt
feat: #1001

feat: #1001 login

feat: #1001 add product

feat: #1001 search customer
```

```txt
refactor: improve type safety

refactor: rename some variables

refactor: #1001 structure shared button
```

```txt
build: add eslint configuration

build: #1001 update unit test configuration
```

```txt
docs: add coding convention

docs: add branch convention
```

```txt
chore: update dependencies

chore: typo
```

```txt
test: shared is-string

test: 1001 shared button
```
