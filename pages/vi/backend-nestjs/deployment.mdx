# Triển Khai

Tài liệu này mô tả các bước cần thiết để triển khai ứng dụng lên môi trường sản xuất.

---

[[toc]]

## Yêu Cầu Trước Khi Triển Khai

- Quyền truy cập vào máy chủ sản xuất
- Thông tin đăng nhập cần thiết cho cơ sở dữ liệu và các dịch vụ khác
- Phiên bản mới nhất của mã nguồn ứng dụng

## Các Bước Triển Khai

1. **Chuẩn Bị Môi Trường**:

   - Đảm bảo máy chủ sản xuất đang hoạt động và có thể truy cập được.
   - Kiểm tra xem tất cả phần mềm yêu cầu đã được cài đặt trên máy chủ hay chưa.

2. **Tải Lên Ứng Dụng**:

   - Sử dụng SCP hoặc FTP để chuyển các tệp ứng dụng lên máy chủ.
   - Đặt các tệp vào thư mục phù hợp.

3. **Cấu Hình Ứng Dụng**:

   - Sao chép tệp `.env.production` lên máy chủ, nếu cần.
   - Cập nhật bất kỳ cấu hình cụ thể cho môi trường.

4. **Thiết Lập Cơ Sở Dữ Liệu**:

   - Tạo cơ sở dữ liệu sản xuất, nếu chưa được thiết lập.
   - Chạy các migration và khởi tạo dữ liệu cần thiết cho cơ sở dữ liệu.

5. **Khởi Động Ứng Dụng**:

   - Tùy thuộc vào ứng dụng, có thể cần khởi động máy chủ web, bộ xử lý công việc nền, v.v.
   - Đảm bảo tất cả các dịch vụ đang chạy như mong đợi.

6. **Xác Nhận Triển Khai**:

   - Truy cập ứng dụng qua URL công cộng để đảm bảo ứng dụng hoạt động đúng.
   - Kiểm tra các log của ứng dụng để phát hiện lỗi hoặc cảnh báo.

7. **Giám Sát Ứng Dụng**:
   - Thiết lập các công cụ giám sát và cảnh báo để theo dõi tình trạng và hiệu suất của ứng dụng.

## Quy Trình CI/CD

// TODO: Thêm chi tiết về việc thiết lập quy trình CI/CD để triển khai tự động.

## Kế Hoạch Rollback

Trong trường hợp có sự cố, hãy chuẩn bị kế hoạch quay lại (rollback):

- Giữ phiên bản trước của ứng dụng sẵn sàng để triển khai.
- Đảm bảo sao lưu cơ sở dữ liệu trước khi triển khai, để khôi phục nếu cần.

## Kết Luận

Việc làm theo các bước này sẽ giúp đảm bảo quá trình triển khai diễn ra suôn sẻ. Hãy luôn thử nghiệm kỹ lưỡng trên môi trường staging trước khi triển khai lên môi trường sản xuất.
